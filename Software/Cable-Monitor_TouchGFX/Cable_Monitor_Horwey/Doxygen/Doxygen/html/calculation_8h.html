<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cable-Monitor by Horvat &amp; Wey: C:/Users/aleja/Documents/Github/PM3-Cable_Monitor/Software/Cable-Monitor_TouchGFX/Cable_Monitor_Horwey/Core/Inc/calculation.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Cable-Monitor by Horvat &amp; Wey<span id="projectnumber">&#160;V1.0</span>
   </div>
   <div id="projectbrief">ZHAW ET.PM3</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c6310732a22f63c0c2fc5595561e68f1.html">Core</a></li><li class="navelem"><a class="el" href="dir_e2489e887f17afa3cbc07a4ec152cdd2.html">Inc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">calculation.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>See <a class="el" href="calculation_8c.html" title="Calculations for displaying the measurements.">calculation.c</a>.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;stm32f4xx.h&quot;</code><br />
<code>#include &quot;stm32f4xx_hal.h&quot;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;arm_math.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for calculation.h:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8h__incl.png" border="0" usemap="#a_c_1_2_users_2aleja_2_documents_2_github_2_p_m3-_cable___monitor_2_software_2_cable-_monitor___touch_g_f_x_2_cable___monitor___horwey_2_core_2_inc_2calculation_8h" alt=""/></div>
<map name="a_c_1_2_users_2aleja_2_documents_2_github_2_p_m3-_cable___monitor_2_software_2_cable-_monitor___touch_g_f_x_2_cable___monitor___horwey_2_core_2_inc_2calculation_8h" id="a_c_1_2_users_2aleja_2_documents_2_github_2_p_m3-_cable___monitor_2_software_2_cable-_monitor___touch_g_f_x_2_cable___monitor___horwey_2_core_2_inc_2calculation_8h">
<area shape="rect" title="See calculation.c." alt="" coords="236,5,409,96"/>
<area shape="rect" title=" " alt="" coords="5,144,80,171"/>
<area shape="poly" title=" " alt="" coords="236,87,92,141,90,136,235,82"/>
<area shape="rect" title=" " alt="" coords="104,144,168,171"/>
<area shape="poly" title=" " alt="" coords="244,99,173,139,170,134,241,94"/>
<area shape="rect" title=" " alt="" coords="192,144,253,171"/>
<area shape="poly" title=" " alt="" coords="282,98,247,134,243,131,278,94"/>
<area shape="rect" title=" " alt="" coords="276,144,369,171"/>
<area shape="poly" title=" " alt="" coords="325,96,325,128,320,128,320,96"/>
<area shape="rect" title=" " alt="" coords="392,144,509,171"/>
<area shape="poly" title=" " alt="" coords="379,94,425,132,422,136,375,98"/>
<area shape="rect" title=" " alt="" coords="532,144,596,171"/>
<area shape="poly" title=" " alt="" coords="411,87,522,135,520,140,409,92"/>
<area shape="rect" title=" " alt="" coords="620,144,710,171"/>
<area shape="poly" title=" " alt="" coords="410,76,610,136,608,142,409,81"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8h__dep__incl.png" border="0" usemap="#a_c_1_2_users_2aleja_2_documents_2_github_2_p_m3-_cable___monitor_2_software_2_cable-_monitor___touch_g_f_x_2_cable___monitor___horwey_2_core_2_inc_2calculation_8hdep" alt=""/></div>
<map name="a_c_1_2_users_2aleja_2_documents_2_github_2_p_m3-_cable___monitor_2_software_2_cable-_monitor___touch_g_f_x_2_cable___monitor___horwey_2_core_2_inc_2calculation_8hdep" id="a_c_1_2_users_2aleja_2_documents_2_github_2_p_m3-_cable___monitor_2_software_2_cable-_monitor___touch_g_f_x_2_cable___monitor___horwey_2_core_2_inc_2calculation_8hdep">
<area shape="rect" title="See calculation.c." alt="" coords="792,5,966,96"/>
<area shape="rect" href="calculation_8c.html" title="Calculations for displaying the measurements." alt="" coords="5,160,182,251"/>
<area shape="poly" title=" " alt="" coords="777,56,656,62,509,77,350,104,271,123,194,146,161,162,158,157,193,142,269,118,349,98,508,71,656,56,776,50"/>
<area shape="rect" href="main_8c.html" title=": Main program body" alt="" coords="205,168,425,243"/>
<area shape="poly" title=" " alt="" coords="778,68,616,98,525,120,437,147,382,170,380,165,435,141,524,115,615,93,777,63"/>
<area shape="rect" href="measuring_8c.html" title="Measuring input signal using following configuration:" alt="" coords="448,160,624,251"/>
<area shape="poly" title=" " alt="" coords="779,88,708,115,637,146,608,162,606,157,635,142,706,110,777,83"/>
<area shape="rect" href="_measurement___accurate___display__1_p_view_8cpp.html" title=" " alt="" coords="648,144,867,267"/>
<area shape="poly" title=" " alt="" coords="836,110,808,145,804,142,832,106"/>
<area shape="rect" href="_measurement___accurate___display__3_p_view_8cpp.html" title=" " alt="" coords="892,144,1111,267"/>
<area shape="poly" title=" " alt="" coords="926,106,955,142,951,145,922,110"/>
<area shape="rect" href="_measurement___single___display__1_p_view_8cpp.html" title=" " alt="" coords="1136,144,1355,267"/>
<area shape="poly" title=" " alt="" coords="981,85,1124,142,1136,147,1134,152,1122,146,979,90"/>
<area shape="rect" href="_measurement___single___display__3_p_view_8cpp.html" title=" " alt="" coords="1380,144,1599,267"/>
<area shape="poly" title=" " alt="" coords="982,61,1163,90,1267,112,1368,141,1380,146,1379,151,1366,147,1265,118,1162,95,981,66"/>
<area shape="rect" href="_settings_view_8cpp.html" title=" " alt="" coords="1624,152,1809,259"/>
<area shape="poly" title=" " alt="" coords="981,50,1110,55,1269,70,1442,97,1528,117,1612,141,1631,149,1629,154,1610,147,1527,122,1441,102,1268,75,1110,61,981,55"/>
</map>
</div>
</div>
<p><a href="calculation_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_f_f_t.html">FFT</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_c_c_u___f_f_t.html">ACCU_FFT</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s_i_n_g_l_e___m_e_a_s.html">SINGLE_MEAS</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_c_c_u___m_e_a_s.html">ACCU_MEAS</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_d_i_s_t_a_n_c_e___a_n_g_l_e.html">DISTANCE_ANGLE</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a42e162ee7b8b8c2663d1dbd31c7b590b" id="r_a42e162ee7b8b8c2663d1dbd31c7b590b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#a42e162ee7b8b8c2663d1dbd31c7b590b">ARM_MATH_CM4</a></td></tr>
<tr class="separator:a42e162ee7b8b8c2663d1dbd31c7b590b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac57f72f3e56192d9df3dd527edb9e587" id="r_ac57f72f3e56192d9df3dd527edb9e587"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#ac57f72f3e56192d9df3dd527edb9e587">SAMPLE_LEN</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:ac57f72f3e56192d9df3dd527edb9e587"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6511732d5b29a6781cf38783157f21e1" id="r_a6511732d5b29a6781cf38783157f21e1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#a6511732d5b29a6781cf38783157f21e1">CHANNEL_NUM</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a6511732d5b29a6781cf38783157f21e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb966d5f9675ecf8225256002bb63314" id="r_adb966d5f9675ecf8225256002bb63314"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#adb966d5f9675ecf8225256002bb63314">SINGLE_PHASE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:adb966d5f9675ecf8225256002bb63314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57280a2ce44606289299d5748e9c28eb" id="r_a57280a2ce44606289299d5748e9c28eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#a57280a2ce44606289299d5748e9c28eb">THREE_PHASE</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a57280a2ce44606289299d5748e9c28eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac031bf5e13adcb4d23de36fe7ebe9aec" id="r_ac031bf5e13adcb4d23de36fe7ebe9aec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#ac031bf5e13adcb4d23de36fe7ebe9aec">ENABLE_TOUCHGFX_INTERRUPTS</a>()</td></tr>
<tr class="separator:ac031bf5e13adcb4d23de36fe7ebe9aec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8effa27f0158badaff3cc62a6016095" id="r_af8effa27f0158badaff3cc62a6016095"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#af8effa27f0158badaff3cc62a6016095">DISABLE_TOUCHGFX_INTERRUPTS</a>()</td></tr>
<tr class="separator:af8effa27f0158badaff3cc62a6016095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1da8470096f447fa45ad8251ad6953c" id="r_aa1da8470096f447fa45ad8251ad6953c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#aa1da8470096f447fa45ad8251ad6953c">DISABLE_BUZZER</a>()&#160;&#160;&#160;HAL_TIM_PWM_Stop(&amp;<a class="el" href="calculation_8h.html#ae4b8faf50eeb07577983d36e4c3894b8">htim14</a>, TIM_CHANNEL_1)</td></tr>
<tr class="memdesc:aa1da8470096f447fa45ad8251ad6953c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables the buzzer.  <br /></td></tr>
<tr class="separator:aa1da8470096f447fa45ad8251ad6953c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c2f4d08dfe4e521e60674781b86f333" id="r_a8c2f4d08dfe4e521e60674781b86f333"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#a8c2f4d08dfe4e521e60674781b86f333">ENABLE_BUZZER</a>()&#160;&#160;&#160;HAL_TIM_PWM_Start(&amp;<a class="el" href="calculation_8h.html#ae4b8faf50eeb07577983d36e4c3894b8">htim14</a>, TIM_CHANNEL_1)</td></tr>
<tr class="memdesc:a8c2f4d08dfe4e521e60674781b86f333"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the buzzer.  <br /></td></tr>
<tr class="separator:a8c2f4d08dfe4e521e60674781b86f333"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f63964ce584a43cbad406260d4e132b" id="r_a8f63964ce584a43cbad406260d4e132b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#a8f63964ce584a43cbad406260d4e132b">DISABLE_LED</a>()&#160;&#160;&#160;HAL_TIM_PWM_Stop(&amp;<a class="el" href="calculation_8h.html#acefaeaaa3856ddddae7083b2d220fe4b">htim5</a>, TIM_CHANNEL_1)</td></tr>
<tr class="memdesc:a8f63964ce584a43cbad406260d4e132b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables the LED.  <br /></td></tr>
<tr class="separator:a8f63964ce584a43cbad406260d4e132b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d8b3f36bda3f694d92a6d0949220a9e" id="r_a3d8b3f36bda3f694d92a6d0949220a9e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#a3d8b3f36bda3f694d92a6d0949220a9e">ENABLE_LED</a>()&#160;&#160;&#160;HAL_TIM_PWM_Start(&amp;<a class="el" href="calculation_8h.html#acefaeaaa3856ddddae7083b2d220fe4b">htim5</a>, TIM_CHANNEL_1)</td></tr>
<tr class="memdesc:a3d8b3f36bda3f694d92a6d0949220a9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the LED.  <br /></td></tr>
<tr class="separator:a3d8b3f36bda3f694d92a6d0949220a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a563ecf0d7220a38a3b2fab1de4856e2a" id="r_a563ecf0d7220a38a3b2fab1de4856e2a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#a563ecf0d7220a38a3b2fab1de4856e2a">CALC_ERROR_ITEM</a> { <br />
&#160;&#160;<a class="el" href="calculation_8h.html#a563ecf0d7220a38a3b2fab1de4856e2aa474aef8698fc4178e2d10a737c7c87a9">CALC_ERROR_FREQUENCY</a> = 0
, <a class="el" href="calculation_8h.html#a563ecf0d7220a38a3b2fab1de4856e2aae86cb76cc4d2213c6bfa1738bf1c71c0">CALC_ERROR_DISCONNECT</a>
, <a class="el" href="calculation_8h.html#a563ecf0d7220a38a3b2fab1de4856e2aaec3ce62130803dcc8025689e14c63369">CALC_ERROR_OVERCURRENT</a>
, <a class="el" href="calculation_8h.html#a563ecf0d7220a38a3b2fab1de4856e2aa1c49751279cecb232e202f60473584fc">CALC_ERROR_TOO_FAR_AWAY</a>
, <br />
&#160;&#160;<a class="el" href="calculation_8h.html#a563ecf0d7220a38a3b2fab1de4856e2aa7a300c048f86eaa5fe197e588f2c8977">CALC_ERROR_DEVIATION_TOO_HIGH</a>
, <a class="el" href="calculation_8h.html#a563ecf0d7220a38a3b2fab1de4856e2aaa3f88aa319b7600fe19263c327f009e5">CALC_ERROR_NONE</a>
<br />
 }</td></tr>
<tr class="separator:a563ecf0d7220a38a3b2fab1de4856e2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6aee6a07a86ee73c7ba20e059b79c794" id="r_a6aee6a07a86ee73c7ba20e059b79c794"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_s_i_n_g_l_e___m_e_a_s.html">SINGLE_MEAS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#a6aee6a07a86ee73c7ba20e059b79c794">single_measurement</a> (uint8_t Phase)</td></tr>
<tr class="memdesc:a6aee6a07a86ee73c7ba20e059b79c794"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a single measurement for a specific phase.  <br /></td></tr>
<tr class="separator:a6aee6a07a86ee73c7ba20e059b79c794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac084ccf3f955bc4c19751d6b24aa3814" id="r_ac084ccf3f955bc4c19751d6b24aa3814"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_a_c_c_u___m_e_a_s.html">ACCU_MEAS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#ac084ccf3f955bc4c19751d6b24aa3814">accurate_measurement</a> (uint8_t Phase)</td></tr>
<tr class="memdesc:ac084ccf3f955bc4c19751d6b24aa3814"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs accurate measurement of various parameters.  <br /></td></tr>
<tr class="separator:ac084ccf3f955bc4c19751d6b24aa3814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fddab1b09b687be16e69a9784d5b97b" id="r_a4fddab1b09b687be16e69a9784d5b97b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_a_c_c_u___f_f_t.html">ACCU_FFT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#a4fddab1b09b687be16e69a9784d5b97b">accurate_FFT</a> (void)</td></tr>
<tr class="memdesc:a4fddab1b09b687be16e69a9784d5b97b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs accurate <a class="el" href="struct_f_f_t.html">FFT</a> calculation for signal strength and main frequency of each channel.  <br /></td></tr>
<tr class="separator:a4fddab1b09b687be16e69a9784d5b97b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abac8ce1f5096ff3f393117cbfa98f888" id="r_abac8ce1f5096ff3f393117cbfa98f888"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#abac8ce1f5096ff3f393117cbfa98f888">start_calibration</a> (void)</td></tr>
<tr class="memdesc:abac8ce1f5096ff3f393117cbfa98f888"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the calibration process.  <br /></td></tr>
<tr class="separator:abac8ce1f5096ff3f393117cbfa98f888"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b6736969ddf8f3f9f229c3ac4a24c23" id="r_a6b6736969ddf8f3f9f229c3ac4a24c23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#a6b6736969ddf8f3f9f229c3ac4a24c23">toggle_Buzzer_settings</a> (bool btn)</td></tr>
<tr class="memdesc:a6b6736969ddf8f3f9f229c3ac4a24c23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Toggles the settings of the buzzer or LED based on the button number.  <br /></td></tr>
<tr class="separator:a6b6736969ddf8f3f9f229c3ac4a24c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a43c98c20a1c370f9fd65564895637f19" id="r_a43c98c20a1c370f9fd65564895637f19"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#a43c98c20a1c370f9fd65564895637f19">Calibration_Data</a> [14]</td></tr>
<tr class="memdesc:a43c98c20a1c370f9fd65564895637f19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global Calibration values.  <br /></td></tr>
<tr class="separator:a43c98c20a1c370f9fd65564895637f19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4b8faf50eeb07577983d36e4c3894b8" id="r_ae4b8faf50eeb07577983d36e4c3894b8"><td class="memItemLeft" align="right" valign="top">TIM_HandleTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#ae4b8faf50eeb07577983d36e4c3894b8">htim14</a></td></tr>
<tr class="separator:ae4b8faf50eeb07577983d36e4c3894b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acefaeaaa3856ddddae7083b2d220fe4b" id="r_acefaeaaa3856ddddae7083b2d220fe4b"><td class="memItemLeft" align="right" valign="top">TIM_HandleTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8h.html#acefaeaaa3856ddddae7083b2d220fe4b">htim5</a></td></tr>
<tr class="separator:acefaeaaa3856ddddae7083b2d220fe4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>See <a class="el" href="calculation_8c.html" title="Calculations for displaying the measurements.">calculation.c</a>. </p>
<hr  />
<p>Prefix CALC </p>

<p class="definition">Definition in file <a class="el" href="calculation_8h_source.html">calculation.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a42e162ee7b8b8c2663d1dbd31c7b590b" name="a42e162ee7b8b8c2663d1dbd31c7b590b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42e162ee7b8b8c2663d1dbd31c7b590b">&#9670;&#160;</a></span>ARM_MATH_CM4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ARM_MATH_CM4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calculation_8h_source.html#l00021">21</a> of file <a class="el" href="calculation_8h_source.html">calculation.h</a>.</p>

</div>
</div>
<a id="a6511732d5b29a6781cf38783157f21e1" name="a6511732d5b29a6781cf38783157f21e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6511732d5b29a6781cf38783157f21e1">&#9670;&#160;</a></span>CHANNEL_NUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHANNEL_NUM&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calculation_8h_source.html#l00028">28</a> of file <a class="el" href="calculation_8h_source.html">calculation.h</a>.</p>

</div>
</div>
<a id="aa1da8470096f447fa45ad8251ad6953c" name="aa1da8470096f447fa45ad8251ad6953c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1da8470096f447fa45ad8251ad6953c">&#9670;&#160;</a></span>DISABLE_BUZZER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DISABLE_BUZZER</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;HAL_TIM_PWM_Stop(&amp;<a class="el" href="calculation_8h.html#ae4b8faf50eeb07577983d36e4c3894b8">htim14</a>, TIM_CHANNEL_1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables the buzzer. </p>

<p class="definition">Definition at line <a class="el" href="calculation_8h_source.html#l00136">136</a> of file <a class="el" href="calculation_8h_source.html">calculation.h</a>.</p>

</div>
</div>
<a id="a8f63964ce584a43cbad406260d4e132b" name="a8f63964ce584a43cbad406260d4e132b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f63964ce584a43cbad406260d4e132b">&#9670;&#160;</a></span>DISABLE_LED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DISABLE_LED</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;HAL_TIM_PWM_Stop(&amp;<a class="el" href="calculation_8h.html#acefaeaaa3856ddddae7083b2d220fe4b">htim5</a>, TIM_CHANNEL_1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables the LED. </p>

<p class="definition">Definition at line <a class="el" href="calculation_8h_source.html#l00146">146</a> of file <a class="el" href="calculation_8h_source.html">calculation.h</a>.</p>

</div>
</div>
<a id="af8effa27f0158badaff3cc62a6016095" name="af8effa27f0158badaff3cc62a6016095"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8effa27f0158badaff3cc62a6016095">&#9670;&#160;</a></span>DISABLE_TOUCHGFX_INTERRUPTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DISABLE_TOUCHGFX_INTERRUPTS</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                              \</div>
<div class="line">        NVIC_DisableIRQ(DMA2D_IRQn);  \</div>
<div class="line">        NVIC_DisableIRQ(LTDC_IRQn);   \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="calculation_8h_source.html#l00126">126</a> of file <a class="el" href="calculation_8h_source.html">calculation.h</a>.</p>

</div>
</div>
<a id="a8c2f4d08dfe4e521e60674781b86f333" name="a8c2f4d08dfe4e521e60674781b86f333"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c2f4d08dfe4e521e60674781b86f333">&#9670;&#160;</a></span>ENABLE_BUZZER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENABLE_BUZZER</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;HAL_TIM_PWM_Start(&amp;<a class="el" href="calculation_8h.html#ae4b8faf50eeb07577983d36e4c3894b8">htim14</a>, TIM_CHANNEL_1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables the buzzer. </p>

<p class="definition">Definition at line <a class="el" href="calculation_8h_source.html#l00141">141</a> of file <a class="el" href="calculation_8h_source.html">calculation.h</a>.</p>

</div>
</div>
<a id="a3d8b3f36bda3f694d92a6d0949220a9e" name="a3d8b3f36bda3f694d92a6d0949220a9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d8b3f36bda3f694d92a6d0949220a9e">&#9670;&#160;</a></span>ENABLE_LED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENABLE_LED</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;HAL_TIM_PWM_Start(&amp;<a class="el" href="calculation_8h.html#acefaeaaa3856ddddae7083b2d220fe4b">htim5</a>, TIM_CHANNEL_1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables the LED. </p>

<p class="definition">Definition at line <a class="el" href="calculation_8h_source.html#l00151">151</a> of file <a class="el" href="calculation_8h_source.html">calculation.h</a>.</p>

</div>
</div>
<a id="ac031bf5e13adcb4d23de36fe7ebe9aec" name="ac031bf5e13adcb4d23de36fe7ebe9aec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac031bf5e13adcb4d23de36fe7ebe9aec">&#9670;&#160;</a></span>ENABLE_TOUCHGFX_INTERRUPTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENABLE_TOUCHGFX_INTERRUPTS</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                             \</div>
<div class="line">        NVIC_EnableIRQ(DMA2D_IRQn);  \</div>
<div class="line">        NVIC_EnableIRQ(LTDC_IRQn);   \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="calculation_8h_source.html#l00119">119</a> of file <a class="el" href="calculation_8h_source.html">calculation.h</a>.</p>

</div>
</div>
<a id="ac57f72f3e56192d9df3dd527edb9e587" name="ac57f72f3e56192d9df3dd527edb9e587"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac57f72f3e56192d9df3dd527edb9e587">&#9670;&#160;</a></span>SAMPLE_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SAMPLE_LEN&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calculation_8h_source.html#l00027">27</a> of file <a class="el" href="calculation_8h_source.html">calculation.h</a>.</p>

</div>
</div>
<a id="adb966d5f9675ecf8225256002bb63314" name="adb966d5f9675ecf8225256002bb63314"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb966d5f9675ecf8225256002bb63314">&#9670;&#160;</a></span>SINGLE_PHASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SINGLE_PHASE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calculation_8h_source.html#l00029">29</a> of file <a class="el" href="calculation_8h_source.html">calculation.h</a>.</p>

</div>
</div>
<a id="a57280a2ce44606289299d5748e9c28eb" name="a57280a2ce44606289299d5748e9c28eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57280a2ce44606289299d5748e9c28eb">&#9670;&#160;</a></span>THREE_PHASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THREE_PHASE&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calculation_8h_source.html#l00030">30</a> of file <a class="el" href="calculation_8h_source.html">calculation.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a563ecf0d7220a38a3b2fab1de4856e2a" name="a563ecf0d7220a38a3b2fab1de4856e2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a563ecf0d7220a38a3b2fab1de4856e2a">&#9670;&#160;</a></span>CALC_ERROR_ITEM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="calculation_8h.html#a563ecf0d7220a38a3b2fab1de4856e2a">CALC_ERROR_ITEM</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a563ecf0d7220a38a3b2fab1de4856e2aa474aef8698fc4178e2d10a737c7c87a9" name="a563ecf0d7220a38a3b2fab1de4856e2aa474aef8698fc4178e2d10a737c7c87a9"></a>CALC_ERROR_FREQUENCY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a563ecf0d7220a38a3b2fab1de4856e2aae86cb76cc4d2213c6bfa1738bf1c71c0" name="a563ecf0d7220a38a3b2fab1de4856e2aae86cb76cc4d2213c6bfa1738bf1c71c0"></a>CALC_ERROR_DISCONNECT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a563ecf0d7220a38a3b2fab1de4856e2aaec3ce62130803dcc8025689e14c63369" name="a563ecf0d7220a38a3b2fab1de4856e2aaec3ce62130803dcc8025689e14c63369"></a>CALC_ERROR_OVERCURRENT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a563ecf0d7220a38a3b2fab1de4856e2aa1c49751279cecb232e202f60473584fc" name="a563ecf0d7220a38a3b2fab1de4856e2aa1c49751279cecb232e202f60473584fc"></a>CALC_ERROR_TOO_FAR_AWAY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a563ecf0d7220a38a3b2fab1de4856e2aa7a300c048f86eaa5fe197e588f2c8977" name="a563ecf0d7220a38a3b2fab1de4856e2aa7a300c048f86eaa5fe197e588f2c8977"></a>CALC_ERROR_DEVIATION_TOO_HIGH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a563ecf0d7220a38a3b2fab1de4856e2aaa3f88aa319b7600fe19263c327f009e5" name="a563ecf0d7220a38a3b2fab1de4856e2aaa3f88aa319b7600fe19263c327f009e5"></a>CALC_ERROR_NONE&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="calculation_8h_source.html#l00036">36</a> of file <a class="el" href="calculation_8h_source.html">calculation.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4fddab1b09b687be16e69a9784d5b97b" name="a4fddab1b09b687be16e69a9784d5b97b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fddab1b09b687be16e69a9784d5b97b">&#9670;&#160;</a></span>accurate_FFT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_a_c_c_u___f_f_t.html">ACCU_FFT</a> accurate_FFT </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs accurate <a class="el" href="struct_f_f_t.html">FFT</a> calculation for signal strength and main frequency of each channel. </p>
<p>This function calculates the signal strength and main frequency for each channel using <a class="el" href="struct_f_f_t.html">FFT</a>. It performs accurate measurement loops and calculates the mean and standard deviation of the signal strength. If the standard deviation is larger than 100, it sets the error flag accordingly.</p>
<dl class="section return"><dt>Returns</dt><dd>The calculated <a class="el" href="struct_a_c_c_u___f_f_t.html">ACCU_FFT</a> structure containing the signal strength, standard deviation, and error flag. </dd></dl>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00255">255</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8h_a4fddab1b09b687be16e69a9784d5b97b_cgraph.png" border="0" usemap="#acalculation_8h_a4fddab1b09b687be16e69a9784d5b97b_cgraph" alt=""/></div>
<map name="acalculation_8h_a4fddab1b09b687be16e69a9784d5b97b_cgraph" id="acalculation_8h_a4fddab1b09b687be16e69a9784d5b97b_cgraph">
<area shape="rect" title="Performs accurate FFT calculation for signal strength and main frequency of each channel." alt="" coords="5,43,107,69"/>
<area shape="rect" href="calculation_8c.html#a9b4c4cf533fe366c1c5637d2853c823a" title="Calculates the frequency and signal strength using Fast Fourier Transform (FFT)." alt="" coords="165,5,294,48"/>
<area shape="poly" title=" " alt="" coords="107,45,149,38,150,43,108,50"/>
<area shape="rect" href="measuring_8c.html#a0495ebe6ce630b42c2f9479392506985" title="Start the measurement by initialising the ADC, timer and DMA, it then starts the measurement and wait..." alt="" coords="155,72,304,99"/>
<area shape="poly" title=" " alt="" coords="108,62,140,67,139,73,107,67"/>
<area shape="rect" href="measuring_8c.html#a2756121f7d9be8c582e834ec0382b01b" title="Get the sampling frequency." alt="" coords="361,13,512,40"/>
<area shape="poly" title=" " alt="" coords="294,24,345,24,345,29,294,29"/>
<area shape="rect" href="measuring_8c.html#a550d69c255df67bab7703cc36a7ee308" title="Initialize ADC, timer and DMA for sequential acquisition = scan mode." alt="" coords="357,68,516,95"/>
<area shape="poly" title=" " alt="" coords="304,81,341,81,341,86,304,87"/>
<area shape="rect" href="measuring_8c.html#a09580c3436438e5feb38330bdbf7062b" title="Start DMA, ADC and timer." alt="" coords="352,119,520,145"/>
<area shape="poly" title=" " alt="" coords="292,97,360,112,359,117,291,102"/>
</map>
</div>

</div>
</div>
<a id="ac084ccf3f955bc4c19751d6b24aa3814" name="ac084ccf3f955bc4c19751d6b24aa3814"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac084ccf3f955bc4c19751d6b24aa3814">&#9670;&#160;</a></span>accurate_measurement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_a_c_c_u___m_e_a_s.html">ACCU_MEAS</a> accurate_measurement </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Phase</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs accurate measurement of various parameters. </p>
<p>This function calculates the mean value and standard deviation of distance, angle, frequency, and current based on multiple single measurements. It checks for errors in the single measurements and sets the appropriate error flags. If the standard deviation of any parameter exceeds 100, it sets the error_accu flag to CALC_ERROR_DEVIATION_TOO_HIGH.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Phase</td><td>The phase for which the accurate measurement is performed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_a_c_c_u___m_e_a_s.html">ACCU_MEAS</a> The structure containing the calculated values and error flags. </dd></dl>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00459">459</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8h_ac084ccf3f955bc4c19751d6b24aa3814_cgraph.png" border="0" usemap="#acalculation_8h_ac084ccf3f955bc4c19751d6b24aa3814_cgraph" alt=""/></div>
<map name="acalculation_8h_ac084ccf3f955bc4c19751d6b24aa3814_cgraph" id="acalculation_8h_ac084ccf3f955bc4c19751d6b24aa3814_cgraph">
<area shape="rect" title="Performs accurate measurement of various parameters." alt="" coords="5,80,163,107"/>
<area shape="rect" href="calculation_8c.html#a6aee6a07a86ee73c7ba20e059b79c794" title="Perform a single measurement for a specific phase." alt="" coords="211,80,352,107"/>
<area shape="poly" title=" " alt="" coords="163,91,195,91,195,96,163,96"/>
<area shape="rect" href="calculation_8c.html#a68538a6e3dec58db926981a4702d45fa" title="Calculates the distance and angle based on signal strengths." alt="" coords="410,5,539,48"/>
<area shape="poly" title=" " alt="" coords="322,77,395,51,397,56,324,82"/>
<area shape="rect" href="calculation_8c.html#a9b4c4cf533fe366c1c5637d2853c823a" title="Calculates the frequency and signal strength using Fast Fourier Transform (FFT)." alt="" coords="410,72,539,115"/>
<area shape="poly" title=" " alt="" coords="353,91,395,91,395,96,353,96"/>
<area shape="rect" href="measuring_8c.html#a0495ebe6ce630b42c2f9479392506985" title="Start the measurement by initialising the ADC, timer and DMA, it then starts the measurement and wait..." alt="" coords="400,139,549,165"/>
<area shape="poly" title=" " alt="" coords="329,105,415,131,413,136,327,110"/>
<area shape="rect" href="measuring_8c.html#a2756121f7d9be8c582e834ec0382b01b" title="Get the sampling frequency." alt="" coords="606,80,757,107"/>
<area shape="poly" title=" " alt="" coords="539,91,590,91,590,96,539,96"/>
<area shape="rect" href="measuring_8c.html#a550d69c255df67bab7703cc36a7ee308" title="Initialize ADC, timer and DMA for sequential acquisition = scan mode." alt="" coords="602,135,761,161"/>
<area shape="poly" title=" " alt="" coords="550,148,586,147,586,153,550,153"/>
<area shape="rect" href="measuring_8c.html#a09580c3436438e5feb38330bdbf7062b" title="Start DMA, ADC and timer." alt="" coords="597,185,766,212"/>
<area shape="poly" title=" " alt="" coords="537,163,605,179,604,184,536,168"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8h_ac084ccf3f955bc4c19751d6b24aa3814_icgraph.png" border="0" usemap="#acalculation_8h_ac084ccf3f955bc4c19751d6b24aa3814_icgraph" alt=""/></div>
<map name="acalculation_8h_ac084ccf3f955bc4c19751d6b24aa3814_icgraph" id="acalculation_8h_ac084ccf3f955bc4c19751d6b24aa3814_icgraph">
<area shape="rect" title="Performs accurate measurement of various parameters." alt="" coords="251,75,408,101"/>
<area shape="rect" href="class_measurement___accurate___display__1_p_view.html#a92067076f61a282a7f716c62766cb34a" title="Performs accurate measurement and updates the display accordingly." alt="" coords="5,29,203,72"/>
<area shape="poly" title=" " alt="" coords="235,75,203,70,204,64,236,70"/>
<area shape="rect" href="class_measurement___accurate___display__3_p_view.html#aab213b8a21000ff7b405bd1252eef702" title="Performs accurate 3&#45;phase measurement and updates the display accordingly." alt="" coords="24,96,184,155"/>
<area shape="poly" title=" " alt="" coords="236,106,185,115,184,109,235,101"/>
<area shape="poly" title=" " alt="" coords="140,16,127,10,104,8,83,10,70,15,65,21,66,28,61,29,59,19,67,10,82,5,104,3,128,5,143,11"/>
</map>
</div>

</div>
</div>
<a id="a6aee6a07a86ee73c7ba20e059b79c794" name="a6aee6a07a86ee73c7ba20e059b79c794"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aee6a07a86ee73c7ba20e059b79c794">&#9670;&#160;</a></span>single_measurement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_s_i_n_g_l_e___m_e_a_s.html">SINGLE_MEAS</a> single_measurement </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Phase</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a single measurement for a specific phase. </p>
<p>This function starts the measurement, converts the samples to the specific channel, calculates the signal strength and main frequency for each channel using <a class="el" href="struct_f_f_t.html">FFT</a>, calculates the distance and angle, and calculates the current using the magnetic coefficients. It also performs error testing and optimization on the calculated values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Phase</td><td>The phase for which the measurement is performed (SINGLE_PHASE or THREE_PHASE). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The calculated values including frequency, distance, angle, current, and error status. </dd></dl>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00327">327</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8h_a6aee6a07a86ee73c7ba20e059b79c794_cgraph.png" border="0" usemap="#acalculation_8h_a6aee6a07a86ee73c7ba20e059b79c794_cgraph" alt=""/></div>
<map name="acalculation_8h_a6aee6a07a86ee73c7ba20e059b79c794_cgraph" id="acalculation_8h_a6aee6a07a86ee73c7ba20e059b79c794_cgraph">
<area shape="rect" title="Perform a single measurement for a specific phase." alt="" coords="5,80,147,107"/>
<area shape="rect" href="calculation_8c.html#a68538a6e3dec58db926981a4702d45fa" title="Calculates the distance and angle based on signal strengths." alt="" coords="205,5,334,48"/>
<area shape="poly" title=" " alt="" coords="116,77,190,51,192,56,118,82"/>
<area shape="rect" href="calculation_8c.html#a9b4c4cf533fe366c1c5637d2853c823a" title="Calculates the frequency and signal strength using Fast Fourier Transform (FFT)." alt="" coords="205,72,334,115"/>
<area shape="poly" title=" " alt="" coords="147,91,189,91,189,96,147,96"/>
<area shape="rect" href="measuring_8c.html#a0495ebe6ce630b42c2f9479392506985" title="Start the measurement by initialising the ADC, timer and DMA, it then starts the measurement and wait..." alt="" coords="195,139,344,165"/>
<area shape="poly" title=" " alt="" coords="123,105,209,131,208,136,122,110"/>
<area shape="rect" href="measuring_8c.html#a2756121f7d9be8c582e834ec0382b01b" title="Get the sampling frequency." alt="" coords="401,80,552,107"/>
<area shape="poly" title=" " alt="" coords="334,91,385,91,385,96,334,96"/>
<area shape="rect" href="measuring_8c.html#a550d69c255df67bab7703cc36a7ee308" title="Initialize ADC, timer and DMA for sequential acquisition = scan mode." alt="" coords="397,135,556,161"/>
<area shape="poly" title=" " alt="" coords="344,148,381,147,381,153,344,153"/>
<area shape="rect" href="measuring_8c.html#a09580c3436438e5feb38330bdbf7062b" title="Start DMA, ADC and timer." alt="" coords="392,185,560,212"/>
<area shape="poly" title=" " alt="" coords="332,163,400,179,399,184,331,168"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8h_a6aee6a07a86ee73c7ba20e059b79c794_icgraph.png" border="0" usemap="#acalculation_8h_a6aee6a07a86ee73c7ba20e059b79c794_icgraph" alt=""/></div>
<map name="acalculation_8h_a6aee6a07a86ee73c7ba20e059b79c794_icgraph" id="acalculation_8h_a6aee6a07a86ee73c7ba20e059b79c794_icgraph">
<area shape="rect" title="Perform a single measurement for a specific phase." alt="" coords="463,141,604,168"/>
<area shape="rect" href="calculation_8c.html#ac084ccf3f955bc4c19751d6b24aa3814" title="Performs accurate measurement of various parameters." alt="" coords="254,75,412,101"/>
<area shape="poly" title=" " alt="" coords="479,138,414,116,379,104,380,99,416,111,481,133"/>
<area shape="rect" href="class_measurement___single___display__3_p_view.html#ad45fecbe6332b9946872216c3944aee7" title="Performs a single three&#45;phase measurement and updates the GUI values accordingly." alt="" coords="251,125,415,184"/>
<area shape="poly" title=" " alt="" coords="447,157,416,157,416,152,447,152"/>
<area shape="rect" href="class_measurement___single___display__1_p_view.html#af45a4641e7bf0f6440573fb421defe13" title="Performs a single measurement and updates the GUI values accordingly." alt="" coords="251,208,415,267"/>
<area shape="poly" title=" " alt="" coords="486,177,407,210,405,205,484,172"/>
<area shape="rect" href="class_measurement___accurate___display__1_p_view.html#a92067076f61a282a7f716c62766cb34a" title="Performs accurate measurement and updates the display accordingly." alt="" coords="5,29,203,72"/>
<area shape="poly" title=" " alt="" coords="238,75,203,69,204,64,239,70"/>
<area shape="rect" href="class_measurement___accurate___display__3_p_view.html#aab213b8a21000ff7b405bd1252eef702" title="Performs accurate 3&#45;phase measurement and updates the display accordingly." alt="" coords="24,96,184,155"/>
<area shape="poly" title=" " alt="" coords="239,106,185,115,184,110,238,101"/>
<area shape="poly" title=" " alt="" coords="141,16,127,10,104,8,82,10,69,15,64,21,66,28,61,29,59,19,66,10,81,5,104,3,128,5,143,11"/>
</map>
</div>

</div>
</div>
<a id="abac8ce1f5096ff3f393117cbfa98f888" name="abac8ce1f5096ff3f393117cbfa98f888"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abac8ce1f5096ff3f393117cbfa98f888">&#9670;&#160;</a></span>start_calibration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void start_calibration </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the calibration process. </p>
<p>This function initializes the necessary variables and arrays for calibration. It calculates the coefficients for distance approximation and current approximation based on the calibration data stored in flash memory. </p>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00556">556</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8h_abac8ce1f5096ff3f393117cbfa98f888_cgraph.png" border="0" usemap="#acalculation_8h_abac8ce1f5096ff3f393117cbfa98f888_cgraph" alt=""/></div>
<map name="acalculation_8h_abac8ce1f5096ff3f393117cbfa98f888_cgraph" id="acalculation_8h_abac8ce1f5096ff3f393117cbfa98f888_cgraph">
<area shape="rect" title="Starts the calibration process." alt="" coords="5,47,119,73"/>
<area shape="rect" href="calculation_8c.html#a9e58222624315d1b9029cc0bd7757b70" title=" " alt="" coords="167,5,312,48"/>
<area shape="poly" title=" " alt="" coords="119,47,151,41,152,46,120,52"/>
<area shape="rect" href="calculation_8c.html#a131fe6481430eaff914b335bbf3d565d" title="Calculates the magnetic coefficients." alt="" coords="173,72,306,115"/>
<area shape="poly" title=" " alt="" coords="120,68,158,75,157,81,119,73"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8h_abac8ce1f5096ff3f393117cbfa98f888_icgraph.png" border="0" usemap="#acalculation_8h_abac8ce1f5096ff3f393117cbfa98f888_icgraph" alt=""/></div>
<map name="acalculation_8h_abac8ce1f5096ff3f393117cbfa98f888_icgraph" id="acalculation_8h_abac8ce1f5096ff3f393117cbfa98f888_icgraph">
<area shape="rect" title="Starts the calibration process." alt="" coords="103,5,216,32"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The application entry point." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a6b6736969ddf8f3f9f229c3ac4a24c23" name="a6b6736969ddf8f3f9f229c3ac4a24c23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b6736969ddf8f3f9f229c3ac4a24c23">&#9670;&#160;</a></span>toggle_Buzzer_settings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void toggle_Buzzer_settings </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>btn_nr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Toggles the settings of the buzzer or LED based on the button number. </p>
<p>This function toggles the settings of the buzzer or LED based on the button number. If the button number is true, it toggles the buzzer settings. If the button number is false, it toggles the LED settings. Also it enables or disables the buzzer or LED based on the current settings.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">btn_nr</td><td>The button number indicating whether to toggle the buzzer or LED settings. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00647">647</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8h_a6b6736969ddf8f3f9f229c3ac4a24c23_icgraph.png" border="0" usemap="#acalculation_8h_a6b6736969ddf8f3f9f229c3ac4a24c23_icgraph" alt=""/></div>
<map name="acalculation_8h_a6b6736969ddf8f3f9f229c3ac4a24c23_icgraph" id="acalculation_8h_a6b6736969ddf8f3f9f229c3ac4a24c23_icgraph">
<area shape="rect" title="Toggles the settings of the buzzer or LED based on the button number." alt="" coords="226,43,383,69"/>
<area shape="rect" href="class_settings_view.html#a3abebcf37c0d55a3708fe7e94ad58e73" title="Toggles the buzzer." alt="" coords="21,5,162,48"/>
<area shape="poly" title=" " alt="" coords="210,46,162,39,163,34,211,40"/>
<area shape="rect" href="class_settings_view.html#a5451f1927eaf00d8c129c0613fc5204d" title="Toggles the LED." alt="" coords="5,72,178,99"/>
<area shape="poly" title=" " alt="" coords="211,72,179,76,178,71,210,66"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a43c98c20a1c370f9fd65564895637f19" name="a43c98c20a1c370f9fd65564895637f19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43c98c20a1c370f9fd65564895637f19">&#9670;&#160;</a></span>Calibration_Data</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Calibration_Data[14]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Global Calibration values. </p>
<p>This array stores the calibration values for various components of the cable monitor system. The calibration values are measured at distances of 10mm, 50mm, and 100mm.</p>
<p>Array Index Mapping: 0-2: Left Pad 3-5: Right Pad 6-7: Hall Left 1P 1.2A and 5A 8-9: Hall Right 1P 1.2A and 5A 10-11: Hall Left 3P 1.2A and 5A 12-13: Hall Right 3P 1.2A and 5A</p>
<p>The calibration values are read after initialization. </p>

<p class="definition">Definition at line <a class="el" href="main_8c_source.html#l00235">235</a> of file <a class="el" href="main_8c_source.html">main.c</a>.</p>

</div>
</div>
<a id="ae4b8faf50eeb07577983d36e4c3894b8" name="ae4b8faf50eeb07577983d36e4c3894b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4b8faf50eeb07577983d36e4c3894b8">&#9670;&#160;</a></span>htim14</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TIM_HandleTypeDef htim14</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="main_8c_source.html#l00097">97</a> of file <a class="el" href="main_8c_source.html">main.c</a>.</p>

</div>
</div>
<a id="acefaeaaa3856ddddae7083b2d220fe4b" name="acefaeaaa3856ddddae7083b2d220fe4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acefaeaaa3856ddddae7083b2d220fe4b">&#9670;&#160;</a></span>htim5</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TIM_HandleTypeDef htim5</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="main_8c_source.html#l00096">96</a> of file <a class="el" href="main_8c_source.html">main.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
