<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cable_monitor_Erni_Felder: Src/calculation.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="zhaw.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cable_monitor_Erni_Felder<span id="projectnumber">&#160;version: 00.01</span>
   </div>
   <div id="projectbrief">ZHAW ET.PM3</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b596f468b52957496e4f78b80e029268.html">Src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">calculation.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Calculations for displaying the measurements.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;stm32f4xx.h&quot;</code><br />
<code>#include &quot;arm_math.h&quot;</code><br />
<code>#include &quot;<a class="el" href="calculation_8h_source.html">calculation.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="measuring_8h_source.html">measuring.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for calculation.c:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8c__incl.png" border="0" usemap="#a_src_2calculation_8c" alt=""/></div>
<map name="a_src_2calculation_8c" id="a_src_2calculation_8c">
<area shape="rect" title="Calculations for displaying the measurements." alt="" coords="157,5,275,32"/>
<area shape="rect" title=" " alt="" coords="217,155,282,181"/>
<area shape="rect" title=" " alt="" coords="27,80,88,107"/>
<area shape="rect" title=" " alt="" coords="112,80,205,107"/>
<area shape="rect" title=" " alt="" coords="229,80,320,107"/>
<area shape="rect" href="calculation_8h.html" title="See calculation.c." alt="" coords="345,80,439,107"/>
<area shape="rect" href="measuring_8h.html" title="See measuring.c." alt="" coords="464,80,557,107"/>
</map>
</div>
</div>
<p><a href="calculation_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a903c0e7083ad87b2f7420dcdcd409f99"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#a903c0e7083ad87b2f7420dcdcd409f99">D_P</a>&#160;&#160;&#160;18</td></tr>
<tr class="memdesc:a903c0e7083ad87b2f7420dcdcd409f99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distance board center to pad.  <a href="calculation_8c.html#a903c0e7083ad87b2f7420dcdcd409f99">More...</a><br /></td></tr>
<tr class="separator:a903c0e7083ad87b2f7420dcdcd409f99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55777447b30ba437527bda91f69b8fba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#a55777447b30ba437527bda91f69b8fba">ACCURATE_MEASUREMENT_LOOPS</a>&#160;&#160;&#160;10</td></tr>
<tr class="memdesc:a55777447b30ba437527bda91f69b8fba"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many loops for accu. meas.  <a href="calculation_8c.html#a55777447b30ba437527bda91f69b8fba">More...</a><br /></td></tr>
<tr class="separator:a55777447b30ba437527bda91f69b8fba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ac0abc7c913167ecaf81778d57e7a17"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#a1ac0abc7c913167ecaf81778d57e7a17">POW2</a>(x)&#160;&#160;&#160;((x) * (x))</td></tr>
<tr class="memdesc:a1ac0abc7c913167ecaf81778d57e7a17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power of two.  <a href="calculation_8c.html#a1ac0abc7c913167ecaf81778d57e7a17">More...</a><br /></td></tr>
<tr class="separator:a1ac0abc7c913167ecaf81778d57e7a17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3fc2a4c36334d1676c45ff95cec0e05f"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#a3fc2a4c36334d1676c45ff95cec0e05f">CALC_get_signalstrength</a> (float *rfft_input, uint8_t fft_len, uint8_t frequency)</td></tr>
<tr class="memdesc:a3fc2a4c36334d1676c45ff95cec0e05f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate signal strength in the frequency domain.  <a href="calculation_8c.html#a3fc2a4c36334d1676c45ff95cec0e05f">More...</a><br /></td></tr>
<tr class="separator:a3fc2a4c36334d1676c45ff95cec0e05f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af37e2bc038df42795b858ef53e962a04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#af37e2bc038df42795b858ef53e962a04">CALC_calc_distance_and_angle_from_one_side</a> (float distance_pad_1, float distance_pad_2, float *distance_center, float *angle)</td></tr>
<tr class="memdesc:af37e2bc038df42795b858ef53e962a04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate angle and distance to board center from one side.  <a href="calculation_8c.html#af37e2bc038df42795b858ef53e962a04">More...</a><br /></td></tr>
<tr class="separator:af37e2bc038df42795b858ef53e962a04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7341b08e00be0009bff3195258e1d8d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#ae7341b08e00be0009bff3195258e1d8d">CALC_calc_distance_and_angle</a> (float distance_pad_l, float distance_pad_r, float *distance_center, float *angle)</td></tr>
<tr class="memdesc:ae7341b08e00be0009bff3195258e1d8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate angle and distance to board center.  <a href="calculation_8c.html#ae7341b08e00be0009bff3195258e1d8d">More...</a><br /></td></tr>
<tr class="separator:ae7341b08e00be0009bff3195258e1d8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fad97eff19a02e0f4ac5808a9874acb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#a1fad97eff19a02e0f4ac5808a9874acb">CALC_start_single_measurement</a> (<a class="el" href="struct_c_a_l_c__meas__data__t.html">CALC_meas_data_t</a> *meas_data, <a class="el" href="calculation_8h.html#a24a06d9b1741cd17d5f7e5815e459ad8">CALC_phase_item_t</a> phase)</td></tr>
<tr class="memdesc:a1fad97eff19a02e0f4ac5808a9874acb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Single measurement.  <a href="calculation_8c.html#a1fad97eff19a02e0f4ac5808a9874acb">More...</a><br /></td></tr>
<tr class="separator:a1fad97eff19a02e0f4ac5808a9874acb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d39476ceaf7d83fa7bd3599b53b85de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#a0d39476ceaf7d83fa7bd3599b53b85de">CALC_start_accurate_measurement</a> (<a class="el" href="struct_c_a_l_c__meas__data__t.html">CALC_meas_data_t</a> *meas_data, <a class="el" href="calculation_8h.html#a24a06d9b1741cd17d5f7e5815e459ad8">CALC_phase_item_t</a> phase)</td></tr>
<tr class="memdesc:a0d39476ceaf7d83fa7bd3599b53b85de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accurate measurement.  <a href="calculation_8c.html#a0d39476ceaf7d83fa7bd3599b53b85de">More...</a><br /></td></tr>
<tr class="separator:a0d39476ceaf7d83fa7bd3599b53b85de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0acddde2c977bd7e54f5a1322ac89deb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#a0acddde2c977bd7e54f5a1322ac89deb">CALC_start_pad_calibration</a> (<a class="el" href="calculation_8h.html#a9996329daf423a1bbe5f8dcd25d7d37c">CALC_cali_pad_step_t</a> state_pad_cali)</td></tr>
<tr class="memdesc:a0acddde2c977bd7e54f5a1322ac89deb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pad calibration.  <a href="calculation_8c.html#a0acddde2c977bd7e54f5a1322ac89deb">More...</a><br /></td></tr>
<tr class="separator:a0acddde2c977bd7e54f5a1322ac89deb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d9bb068545c5c8be52de1998f07180d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#a4d9bb068545c5c8be52de1998f07180d">CALC_start_coil_calibration</a> (<a class="el" href="calculation_8h.html#a24a06d9b1741cd17d5f7e5815e459ad8">CALC_phase_item_t</a> state_phase, <a class="el" href="calculation_8h.html#aec1e459cdc1555cb7918da593ccf1c5a">CALC_cali_coil_step_t</a> state_coil_cali)</td></tr>
<tr class="memdesc:a4d9bb068545c5c8be52de1998f07180d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coil calibration.  <a href="calculation_8c.html#a4d9bb068545c5c8be52de1998f07180d">More...</a><br /></td></tr>
<tr class="separator:a4d9bb068545c5c8be52de1998f07180d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2b8e5bdc657e277f623635d03bbaae5"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#ab2b8e5bdc657e277f623635d03bbaae5">CALC_get_act_dist</a> (void)</td></tr>
<tr class="memdesc:ab2b8e5bdc657e277f623635d03bbaae5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get distances for measurements.  <a href="calculation_8c.html#ab2b8e5bdc657e277f623635d03bbaae5">More...</a><br /></td></tr>
<tr class="separator:ab2b8e5bdc657e277f623635d03bbaae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e0e393cfa633acdceb6ea816857a331"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#a1e0e393cfa633acdceb6ea816857a331">CALC_get_act_curr</a> (void)</td></tr>
<tr class="memdesc:a1e0e393cfa633acdceb6ea816857a331"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current for measurements.  <a href="calculation_8c.html#a1e0e393cfa633acdceb6ea816857a331">More...</a><br /></td></tr>
<tr class="separator:a1e0e393cfa633acdceb6ea816857a331"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae69e98f772f728be8529fc0d3f70fe6e"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#ae69e98f772f728be8529fc0d3f70fe6e">cal_distance</a> [<a class="el" href="calculation_8h.html#a9996329daf423a1bbe5f8dcd25d7d37ca978e074e66a01e597b78d77453d9f0f9">CALC_CALI_P_END</a> - 3] = {10, 100, 300}</td></tr>
<tr class="memdesc:ae69e98f772f728be8529fc0d3f70fe6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distance from wire to board center.  <a href="calculation_8c.html#ae69e98f772f728be8529fc0d3f70fe6e">More...</a><br /></td></tr>
<tr class="separator:ae69e98f772f728be8529fc0d3f70fe6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25eddb045422b1d6dcd1d1ea76a50acd"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#a25eddb045422b1d6dcd1d1ea76a50acd">cal_current</a> [<a class="el" href="calculation_8h.html#aec1e459cdc1555cb7918da593ccf1c5aac933d25b3380298f2c95818561bab46f">CALC_CALI_C_END</a> - 3] = {5}</td></tr>
<tr class="memdesc:a25eddb045422b1d6dcd1d1ea76a50acd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current through wire.  <a href="calculation_8c.html#a25eddb045422b1d6dcd1d1ea76a50acd">More...</a><br /></td></tr>
<tr class="separator:a25eddb045422b1d6dcd1d1ea76a50acd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab37cd723e618eac257340ccfd176794d"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#ab37cd723e618eac257340ccfd176794d">a_static_l</a> = -43.14</td></tr>
<tr class="memdesc:ab37cd723e618eac257340ccfd176794d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coefficient for distance approximation<a class="anchor" id="Coefficients"></a>.  <a href="calculation_8c.html#ab37cd723e618eac257340ccfd176794d">More...</a><br /></td></tr>
<tr class="separator:ab37cd723e618eac257340ccfd176794d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dd134c4aab7ce5515fb0c1c8c8a0043"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#a8dd134c4aab7ce5515fb0c1c8c8a0043">b_static_l</a> = 35.98e3</td></tr>
<tr class="memdesc:a8dd134c4aab7ce5515fb0c1c8c8a0043"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coefficient for distance approximation.  <a href="calculation_8c.html#a8dd134c4aab7ce5515fb0c1c8c8a0043">More...</a><br /></td></tr>
<tr class="separator:a8dd134c4aab7ce5515fb0c1c8c8a0043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16641df2ec5a7e847ea60395e6ec79fe"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#a16641df2ec5a7e847ea60395e6ec79fe">c_static_l</a> = -161.1e3</td></tr>
<tr class="memdesc:a16641df2ec5a7e847ea60395e6ec79fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coefficient for distance approximation.  <a href="calculation_8c.html#a16641df2ec5a7e847ea60395e6ec79fe">More...</a><br /></td></tr>
<tr class="separator:a16641df2ec5a7e847ea60395e6ec79fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a10a05df4e4c32b5e5c91793815b297"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#a5a10a05df4e4c32b5e5c91793815b297">a_static_r</a> = -73.23</td></tr>
<tr class="memdesc:a5a10a05df4e4c32b5e5c91793815b297"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coefficient for distance approximation.  <a href="calculation_8c.html#a5a10a05df4e4c32b5e5c91793815b297">More...</a><br /></td></tr>
<tr class="separator:a5a10a05df4e4c32b5e5c91793815b297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26fb40462f1d6f28abf2e11d503d9a56"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#a26fb40462f1d6f28abf2e11d503d9a56">b_static_r</a> = 61.36e3</td></tr>
<tr class="memdesc:a26fb40462f1d6f28abf2e11d503d9a56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coefficient for distance approximation.  <a href="calculation_8c.html#a26fb40462f1d6f28abf2e11d503d9a56">More...</a><br /></td></tr>
<tr class="separator:a26fb40462f1d6f28abf2e11d503d9a56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec46193d7bfd8d1939c7908334e59331"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#aec46193d7bfd8d1939c7908334e59331">c_static_r</a> = -1.981e6</td></tr>
<tr class="memdesc:aec46193d7bfd8d1939c7908334e59331"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coefficient for distance approximation.  <a href="calculation_8c.html#aec46193d7bfd8d1939c7908334e59331">More...</a><br /></td></tr>
<tr class="separator:aec46193d7bfd8d1939c7908334e59331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad925a8bfa2df9aa23b8869baf32f8b49"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#ad925a8bfa2df9aa23b8869baf32f8b49">a_magnetic_1</a> = 581.5586e-6</td></tr>
<tr class="memdesc:ad925a8bfa2df9aa23b8869baf32f8b49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant for Current approximation<a class="anchor" id="Constant"></a>.  <a href="calculation_8c.html#ad925a8bfa2df9aa23b8869baf32f8b49">More...</a><br /></td></tr>
<tr class="separator:ad925a8bfa2df9aa23b8869baf32f8b49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addb4d66fdf0c5fa68354b76367ed6671"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calculation_8c.html#addb4d66fdf0c5fa68354b76367ed6671">a_magnetic_3</a> = 181.5586e-6</td></tr>
<tr class="memdesc:addb4d66fdf0c5fa68354b76367ed6671"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant for Current approximation.  <a href="calculation_8c.html#addb4d66fdf0c5fa68354b76367ed6671">More...</a><br /></td></tr>
<tr class="separator:addb4d66fdf0c5fa68354b76367ed6671"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Calculations for displaying the measurements. </p>
<hr  />
<h1>Trigonometry used for distance and angle calculation </h1>
<h2>Calibration </h2>
<p >For calibration the angle is given, because the board is placed perpendicular to the wire. <br  />
 The equation for this trigonometry can be seen under the figure. <br  />
 d: Distance from wire to pad (left or right) <br  />
 l: Distance from the board center to wire <br  />
 x: Distance from the board center to pad </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="calculation_8c.html#a903c0e7083ad87b2f7420dcdcd409f99" title="Distance board center to pad.">D_P</a> Distance from the board center to pad</dd></dl>
<div class="image">
<img src="trigonometry_calibration.jpg" alt=""/>
</div>
<h2>Measure </h2>
<p >The equation for this trigonometry can be seen under the figure.</p>
<div class="image">
<img src="trigonometry_measure.jpg" alt=""/>
</div>
<h1>Approximation used for calculations </h1>
<h2>Distance </h2>
<p >Approximation is done with a Laurent polynomial 2nd degree. <br  />
 For calibration only 3 measurements are needed. <br  />
 d1,d2,d3: Distance for each measurement <br  />
 s1,s2,s3: Signal for each measurement <br  />
 a,b,c: <a class="el" href="calculation_8c.html#Coefficients">Coefficients</a> for distance approximation</p>
<div class="image">
<img src="approximation_coefficient.jpg" alt=""/>
</div>
<h2>Current </h2>
<p >Approximation is done with a constant as seen in the figure. <br  />
 For calibration only 1 measurements is needed. <br  />
 U: Signal <br  />
 r: Distance from the board center to wire <br  />
 const: <a class="el" href="calculation_8c.html#Constant">Constant</a> for current approximation.</p>
<div class="image">
<img src="approximation_constant.jpg" alt=""/>
</div>
<hr  />
 <dl class="section author"><dt>Author</dt><dd>Flavio Felder, <a href="#" onclick="location.href='mai'+'lto:'+'fel'+'de'+'fla'+'@s'+'tud'+'en'+'ts.'+'zh'+'aw.'+'ch'; return false;">felde<span style="display: none;">.nosp@m.</span>fla@<span style="display: none;">.nosp@m.</span>stude<span style="display: none;">.nosp@m.</span>nts.<span style="display: none;">.nosp@m.</span>zhaw.<span style="display: none;">.nosp@m.</span>ch</a> </dd></dl>
<dl class="section date"><dt>Date</dt><dd>12.28.2021 </dd></dl>

<p class="definition">Definition in file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a55777447b30ba437527bda91f69b8fba" name="a55777447b30ba437527bda91f69b8fba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55777447b30ba437527bda91f69b8fba">&#9670;&nbsp;</a></span>ACCURATE_MEASUREMENT_LOOPS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ACCURATE_MEASUREMENT_LOOPS&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How many loops for accu. meas. </p>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00074">74</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>

</div>
</div>
<a id="a903c0e7083ad87b2f7420dcdcd409f99" name="a903c0e7083ad87b2f7420dcdcd409f99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a903c0e7083ad87b2f7420dcdcd409f99">&#9670;&nbsp;</a></span>D_P</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D_P&#160;&#160;&#160;18</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Distance board center to pad. </p>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00073">73</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>

</div>
</div>
<a id="a1ac0abc7c913167ecaf81778d57e7a17" name="a1ac0abc7c913167ecaf81778d57e7a17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ac0abc7c913167ecaf81778d57e7a17">&#9670;&nbsp;</a></span>POW2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define POW2</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;((x) * (x))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Power of two. </p>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00075">75</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae7341b08e00be0009bff3195258e1d8d" name="ae7341b08e00be0009bff3195258e1d8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7341b08e00be0009bff3195258e1d8d">&#9670;&nbsp;</a></span>CALC_calc_distance_and_angle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void CALC_calc_distance_and_angle </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>distance_pad_l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>distance_pad_r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>distance_center</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>angle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate angle and distance to board center. </p>
<hr  />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">distance_pad_l</td><td>Left distance from wire to pad </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">distance_pad_r</td><td>Right distance from wire to pad </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*distance_center</td><td>Distance from wire to board center </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*angle</td><td>Angle pointing to wire in degree </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00203">203</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8c_ae7341b08e00be0009bff3195258e1d8d_cgraph.png" border="0" usemap="#acalculation_8c_ae7341b08e00be0009bff3195258e1d8d_cgraph" alt=""/></div>
<map name="acalculation_8c_ae7341b08e00be0009bff3195258e1d8d_cgraph" id="acalculation_8c_ae7341b08e00be0009bff3195258e1d8d_cgraph">
<area shape="rect" title="Calculate angle and distance to board center." alt="" coords="5,5,148,47"/>
<area shape="rect" href="calculation_8c.html#af37e2bc038df42795b858ef53e962a04" title="Calculate angle and distance to board center from one side." alt="" coords="196,5,375,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8c_ae7341b08e00be0009bff3195258e1d8d_icgraph.png" border="0" usemap="#acalculation_8c_ae7341b08e00be0009bff3195258e1d8d_icgraph" alt=""/></div>
<map name="acalculation_8c_ae7341b08e00be0009bff3195258e1d8d_icgraph" id="acalculation_8c_ae7341b08e00be0009bff3195258e1d8d_icgraph">
<area shape="rect" title="Calculate angle and distance to board center." alt="" coords="1099,70,1241,111"/>
<area shape="rect" href="calculation_8c.html#a1fad97eff19a02e0f4ac5808a9874acb" title="Single measurement." alt="" coords="835,77,1051,104"/>
<area shape="rect" href="calculation_8c.html#a0d39476ceaf7d83fa7bd3599b53b85de" title="Accurate measurement." alt="" coords="640,41,787,82"/>
<area shape="rect" href="menu_8c.html#aaf342133acebdd88903ec7a9cf1638c0" title="Master menu." alt="" coords="104,56,199,83"/>
<area shape="rect" href="calculation_8c.html#a4d9bb068545c5c8be52de1998f07180d" title="Coil calibration." alt="" coords="409,5,592,32"/>
<area shape="rect" href="menu_8c.html#a46c8e897eee6536b70851f887ac3419b" title="Calibration menu for the current." alt="" coords="247,5,361,32"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main function." alt="" coords="5,56,56,83"/>
</map>
</div>

</div>
</div>
<a id="af37e2bc038df42795b858ef53e962a04" name="af37e2bc038df42795b858ef53e962a04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af37e2bc038df42795b858ef53e962a04">&#9670;&nbsp;</a></span>CALC_calc_distance_and_angle_from_one_side()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void CALC_calc_distance_and_angle_from_one_side </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>distance_pad_1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>distance_pad_2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>distance_center</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>angle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate angle and distance to board center from one side. </p>
<hr  />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">distance_pad_1</td><td>Distance from wire to pad </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">distance_pad_2</td><td>Distance from wire to pad </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*distance_center</td><td>Distance from wire to board center </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*angle</td><td>Angle pointing to wire in degree</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Angle always positiv </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000001">Bug:</a></b></dt><dd>Skips small angles at short distances</dd></dl>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00161">161</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8c_af37e2bc038df42795b858ef53e962a04_icgraph.png" border="0" usemap="#acalculation_8c_af37e2bc038df42795b858ef53e962a04_icgraph" alt=""/></div>
<map name="acalculation_8c_af37e2bc038df42795b858ef53e962a04_icgraph" id="acalculation_8c_af37e2bc038df42795b858ef53e962a04_icgraph">
<area shape="rect" title="Calculate angle and distance to board center from one side." alt="" coords="1289,70,1468,111"/>
<area shape="rect" href="calculation_8c.html#ae7341b08e00be0009bff3195258e1d8d" title="Calculate angle and distance to board center." alt="" coords="1099,70,1241,111"/>
<area shape="rect" href="calculation_8c.html#a1fad97eff19a02e0f4ac5808a9874acb" title="Single measurement." alt="" coords="835,77,1051,104"/>
<area shape="rect" href="calculation_8c.html#a0d39476ceaf7d83fa7bd3599b53b85de" title="Accurate measurement." alt="" coords="640,41,787,82"/>
<area shape="rect" href="menu_8c.html#aaf342133acebdd88903ec7a9cf1638c0" title="Master menu." alt="" coords="104,56,199,83"/>
<area shape="rect" href="calculation_8c.html#a4d9bb068545c5c8be52de1998f07180d" title="Coil calibration." alt="" coords="409,5,592,32"/>
<area shape="rect" href="menu_8c.html#a46c8e897eee6536b70851f887ac3419b" title="Calibration menu for the current." alt="" coords="247,5,361,32"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main function." alt="" coords="5,56,56,83"/>
</map>
</div>

</div>
</div>
<a id="a1e0e393cfa633acdceb6ea816857a331" name="a1e0e393cfa633acdceb6ea816857a331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e0e393cfa633acdceb6ea816857a331">&#9670;&nbsp;</a></span>CALC_get_act_curr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float * CALC_get_act_curr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get current for measurements. </p>
<hr  />
 <dl class="section return"><dt>Returns</dt><dd>Array of current </dd></dl>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00483">483</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8c_a1e0e393cfa633acdceb6ea816857a331_icgraph.png" border="0" usemap="#acalculation_8c_a1e0e393cfa633acdceb6ea816857a331_icgraph" alt=""/></div>
<map name="acalculation_8c_a1e0e393cfa633acdceb6ea816857a331_icgraph" id="acalculation_8c_a1e0e393cfa633acdceb6ea816857a331_icgraph">
<area shape="rect" title="Get current for measurements." alt="" coords="817,31,952,57"/>
<area shape="rect" href="display_8c.html#ade7e50202603f6a5c4475e70b8c49cd0" title="Displays the current calibration screen." alt="" coords="624,31,769,57"/>
<area shape="rect" href="display_8c.html#a33dcea5b54aa622ed9cca192855ade48" title="Displays the information of the current calibration screen." alt="" coords="443,5,576,32"/>
<area shape="rect" href="menu_8c.html#a46c8e897eee6536b70851f887ac3419b" title="Calibration menu for the current." alt="" coords="275,56,389,83"/>
<area shape="rect" href="display_8c.html#acdfd6d2059a73c3a7b22ec5ccffd3dfa" title="Displays the info screen." alt="" coords="269,5,395,32"/>
<area shape="rect" href="main_8c.html#a0c07c6c40eb7519a67048669b641506c" title="Board initialization." alt="" coords="104,5,221,32"/>
<area shape="rect" href="menu_8c.html#aaf342133acebdd88903ec7a9cf1638c0" title="Master menu." alt="" coords="115,56,210,83"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main function." alt="" coords="5,31,56,57"/>
</map>
</div>

</div>
</div>
<a id="ab2b8e5bdc657e277f623635d03bbaae5" name="ab2b8e5bdc657e277f623635d03bbaae5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2b8e5bdc657e277f623635d03bbaae5">&#9670;&nbsp;</a></span>CALC_get_act_dist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float * CALC_get_act_dist </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get distances for measurements. </p>
<hr  />
 <dl class="section return"><dt>Returns</dt><dd>Array of distances </dd></dl>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00474">474</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8c_ab2b8e5bdc657e277f623635d03bbaae5_icgraph.png" border="0" usemap="#acalculation_8c_ab2b8e5bdc657e277f623635d03bbaae5_icgraph" alt=""/></div>
<map name="acalculation_8c_ab2b8e5bdc657e277f623635d03bbaae5_icgraph" id="acalculation_8c_ab2b8e5bdc657e277f623635d03bbaae5_icgraph">
<area shape="rect" title="Get distances for measurements." alt="" coords="820,81,955,108"/>
<area shape="rect" href="display_8c.html#ade7e50202603f6a5c4475e70b8c49cd0" title="Displays the current calibration screen." alt="" coords="626,56,771,83"/>
<area shape="rect" href="display_8c.html#a34af497f92101d0184186f6273c00a33" title="Displays the distance calibration screen." alt="" coords="625,107,772,133"/>
<area shape="rect" href="display_8c.html#a33dcea5b54aa622ed9cca192855ade48" title="Displays the information of the current calibration screen." alt="" coords="443,5,577,32"/>
<area shape="rect" href="menu_8c.html#a46c8e897eee6536b70851f887ac3419b" title="Calibration menu for the current." alt="" coords="275,69,389,96"/>
<area shape="rect" href="display_8c.html#acdfd6d2059a73c3a7b22ec5ccffd3dfa" title="Displays the info screen." alt="" coords="269,19,395,45"/>
<area shape="rect" href="main_8c.html#a0c07c6c40eb7519a67048669b641506c" title="Board initialization." alt="" coords="104,19,221,45"/>
<area shape="rect" href="menu_8c.html#aaf342133acebdd88903ec7a9cf1638c0" title="Master menu." alt="" coords="115,69,210,96"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main function." alt="" coords="5,44,56,71"/>
<area shape="rect" href="display_8c.html#a9af77a89c923d66280aa4c18d11504e3" title="Displays the information of the distance calibration screen." alt="" coords="443,107,577,133"/>
<area shape="rect" href="menu_8c.html#a5eaf7d16b148ce298c844114f9e13fd9" title="Calibration menu for the distance." alt="" coords="275,132,389,159"/>
</map>
</div>

</div>
</div>
<a id="a3fc2a4c36334d1676c45ff95cec0e05f" name="a3fc2a4c36334d1676c45ff95cec0e05f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fc2a4c36334d1676c45ff95cec0e05f">&#9670;&nbsp;</a></span>CALC_get_signalstrength()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static float CALC_get_signalstrength </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>rfft_input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>fft_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>frequency</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate signal strength in the frequency domain. </p>
<hr  />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*rfft_input</td><td>Array of signal </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fft_len</td><td>Length of array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frequency</td><td>Amplitude at this frequency </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Amplitude in 3.3V/4096</dd></dl>
<dl class="section note"><dt>Note</dt><dd>To get an optimal result from the FFT, sampling has to be done over a whole number of signal periods (prevent the so called leakage effect). E.g. sampling over 100ms spans exactly 5 periods of 50Hz. </dd>
<dd>
The FFT needs block sizes of a power of 2. E.g. N = 64 samples. Combined with N∙Ts = 100ms defines the sampling frequency fs = 64/100ms = 640Hz </dd></dl>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00133">133</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8c_a3fc2a4c36334d1676c45ff95cec0e05f_cgraph.png" border="0" usemap="#acalculation_8c_a3fc2a4c36334d1676c45ff95cec0e05f_cgraph" alt=""/></div>
<map name="acalculation_8c_a3fc2a4c36334d1676c45ff95cec0e05f_cgraph" id="acalculation_8c_a3fc2a4c36334d1676c45ff95cec0e05f_cgraph">
<area shape="rect" title="Calculate signal strength in the frequency domain." alt="" coords="5,5,175,32"/>
<area shape="rect" href="measuring_8c.html#a2756121f7d9be8c582e834ec0382b01b" title="Get the sampling frequency." alt="" coords="223,5,375,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8c_a3fc2a4c36334d1676c45ff95cec0e05f_icgraph.png" border="0" usemap="#acalculation_8c_a3fc2a4c36334d1676c45ff95cec0e05f_icgraph" alt=""/></div>
<map name="acalculation_8c_a3fc2a4c36334d1676c45ff95cec0e05f_icgraph" id="acalculation_8c_a3fc2a4c36334d1676c45ff95cec0e05f_icgraph">
<area shape="rect" title="Calculate signal strength in the frequency domain." alt="" coords="1099,31,1268,57"/>
<area shape="rect" href="calculation_8c.html#a0acddde2c977bd7e54f5a1322ac89deb" title="Pad calibration." alt="" coords="851,5,1034,32"/>
<area shape="rect" href="calculation_8c.html#a1fad97eff19a02e0f4ac5808a9874acb" title="Single measurement." alt="" coords="835,56,1051,83"/>
<area shape="rect" href="menu_8c.html#a5eaf7d16b148ce298c844114f9e13fd9" title="Calibration menu for the distance." alt="" coords="443,5,558,32"/>
<area shape="rect" href="menu_8c.html#aaf342133acebdd88903ec7a9cf1638c0" title="Master menu." alt="" coords="104,81,199,108"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main function." alt="" coords="5,81,56,108"/>
<area shape="rect" href="calculation_8c.html#a0d39476ceaf7d83fa7bd3599b53b85de" title="Accurate measurement." alt="" coords="640,107,787,149"/>
<area shape="rect" href="calculation_8c.html#a4d9bb068545c5c8be52de1998f07180d" title="Coil calibration." alt="" coords="409,157,592,184"/>
<area shape="rect" href="menu_8c.html#a46c8e897eee6536b70851f887ac3419b" title="Calibration menu for the current." alt="" coords="247,157,361,184"/>
</map>
</div>

</div>
</div>
<a id="a0d39476ceaf7d83fa7bd3599b53b85de" name="a0d39476ceaf7d83fa7bd3599b53b85de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d39476ceaf7d83fa7bd3599b53b85de">&#9670;&nbsp;</a></span>CALC_start_accurate_measurement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CALC_start_accurate_measurement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_l_c__meas__data__t.html">CALC_meas_data_t</a> *&#160;</td>
          <td class="paramname"><em>meas_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="calculation_8h.html#a24a06d9b1741cd17d5f7e5815e459ad8">CALC_phase_item_t</a>&#160;</td>
          <td class="paramname"><em>phase</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accurate measurement. </p>
<hr  />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">*meas_data</td><td>Measurement data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="struct_c_a_l_c__meas__data__t.html">CALC_meas_data_t</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">phase</td><td>Select which phase mode for measurement </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00303">303</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8c_a0d39476ceaf7d83fa7bd3599b53b85de_cgraph.png" border="0" usemap="#acalculation_8c_a0d39476ceaf7d83fa7bd3599b53b85de_cgraph" alt=""/></div>
<map name="acalculation_8c_a0d39476ceaf7d83fa7bd3599b53b85de_cgraph" id="acalculation_8c_a0d39476ceaf7d83fa7bd3599b53b85de_cgraph">
<area shape="rect" title="Accurate measurement." alt="" coords="5,115,152,156"/>
<area shape="rect" href="calculation_8c.html#a1fad97eff19a02e0f4ac5808a9874acb" title="Single measurement." alt="" coords="200,122,416,149"/>
<area shape="rect" href="calculation_8c.html#ae7341b08e00be0009bff3195258e1d8d" title="Calculate angle and distance to board center." alt="" coords="488,5,631,47"/>
<area shape="rect" href="calculation_8c.html#a3fc2a4c36334d1676c45ff95cec0e05f" title="Calculate signal strength in the frequency domain." alt="" coords="475,71,644,98"/>
<area shape="rect" href="measuring_8c.html#a64faa9ad38f33a8a9ad3a43864f02a1e" title="Get the number of channels." alt="" coords="475,122,644,149"/>
<area shape="rect" href="measuring_8c.html#a736f917870cb271ed9825adace9ff537" title="Get the number of samples." alt="" coords="464,173,655,199"/>
<area shape="rect" href="measuring_8c.html#aa6ff7ee1f6a6c6457f92f807f3539d6a" title="Start the measurement." alt="" coords="493,223,625,250"/>
<area shape="rect" href="calculation_8c.html#af37e2bc038df42795b858ef53e962a04" title="Calculate angle and distance to board center from one side." alt="" coords="703,5,881,47"/>
<area shape="rect" href="measuring_8c.html#a2756121f7d9be8c582e834ec0382b01b" title="Get the sampling frequency." alt="" coords="716,71,868,98"/>
<area shape="rect" href="measuring_8c.html#ac2ccde1503cdb59ca3e7c55144864384" title="Initialize ADC, timer and DMA for sequential acquisition = scan mode." alt="" coords="712,157,872,199"/>
<area shape="rect" href="measuring_8c.html#a56222b9e01ee9e860d41b23009b77f41" title="Start DMA, ADC and timer." alt="" coords="707,223,877,250"/>
<area shape="rect" href="measuring_8c.html#a13be0ddd7d3fdf4b7c15e3e8a3615466" title="Resets the buffer." alt="" coords="724,274,860,301"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8c_a0d39476ceaf7d83fa7bd3599b53b85de_icgraph.png" border="0" usemap="#acalculation_8c_a0d39476ceaf7d83fa7bd3599b53b85de_icgraph" alt=""/></div>
<map name="acalculation_8c_a0d39476ceaf7d83fa7bd3599b53b85de_icgraph" id="acalculation_8c_a0d39476ceaf7d83fa7bd3599b53b85de_icgraph">
<area shape="rect" title="Accurate measurement." alt="" coords="640,23,787,65"/>
<area shape="rect" href="calculation_8c.html#a4d9bb068545c5c8be52de1998f07180d" title="Coil calibration." alt="" coords="409,5,592,32"/>
<area shape="rect" href="menu_8c.html#aaf342133acebdd88903ec7a9cf1638c0" title="Master menu." alt="" coords="104,31,199,57"/>
<area shape="rect" href="menu_8c.html#a46c8e897eee6536b70851f887ac3419b" title="Calibration menu for the current." alt="" coords="247,5,361,32"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main function." alt="" coords="5,31,56,57"/>
</map>
</div>

</div>
</div>
<a id="a4d9bb068545c5c8be52de1998f07180d" name="a4d9bb068545c5c8be52de1998f07180d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d9bb068545c5c8be52de1998f07180d">&#9670;&nbsp;</a></span>CALC_start_coil_calibration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CALC_start_coil_calibration </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="calculation_8h.html#a24a06d9b1741cd17d5f7e5815e459ad8">CALC_phase_item_t</a>&#160;</td>
          <td class="paramname"><em>state_phase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="calculation_8h.html#aec1e459cdc1555cb7918da593ccf1c5a">CALC_cali_coil_step_t</a>&#160;</td>
          <td class="paramname"><em>state_coil_cali</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Coil calibration. </p>
<hr  />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">state_phase</td><td>Select which phase mode for measurement </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">state_coil_cali</td><td>State of calibration</td></tr>
  </table>
  </dd>
</dl>
<p>To calibrate the coil (or current) run this function multiple times while changing the state of parameter state_coil_cali. </p>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00444">444</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8c_a4d9bb068545c5c8be52de1998f07180d_cgraph.png" border="0" usemap="#acalculation_8c_a4d9bb068545c5c8be52de1998f07180d_cgraph" alt=""/></div>
<map name="acalculation_8c_a4d9bb068545c5c8be52de1998f07180d_cgraph" id="acalculation_8c_a4d9bb068545c5c8be52de1998f07180d_cgraph">
<area shape="rect" title="Coil calibration." alt="" coords="5,122,188,149"/>
<area shape="rect" href="calculation_8c.html#a0d39476ceaf7d83fa7bd3599b53b85de" title="Accurate measurement." alt="" coords="236,115,383,156"/>
<area shape="rect" href="calculation_8c.html#a1fad97eff19a02e0f4ac5808a9874acb" title="Single measurement." alt="" coords="431,122,647,149"/>
<area shape="rect" href="calculation_8c.html#ae7341b08e00be0009bff3195258e1d8d" title="Calculate angle and distance to board center." alt="" coords="719,5,861,47"/>
<area shape="rect" href="calculation_8c.html#a3fc2a4c36334d1676c45ff95cec0e05f" title="Calculate signal strength in the frequency domain." alt="" coords="705,71,875,98"/>
<area shape="rect" href="measuring_8c.html#a64faa9ad38f33a8a9ad3a43864f02a1e" title="Get the number of channels." alt="" coords="705,122,875,149"/>
<area shape="rect" href="measuring_8c.html#a736f917870cb271ed9825adace9ff537" title="Get the number of samples." alt="" coords="695,173,885,199"/>
<area shape="rect" href="measuring_8c.html#aa6ff7ee1f6a6c6457f92f807f3539d6a" title="Start the measurement." alt="" coords="724,223,856,250"/>
<area shape="rect" href="calculation_8c.html#af37e2bc038df42795b858ef53e962a04" title="Calculate angle and distance to board center from one side." alt="" coords="933,5,1112,47"/>
<area shape="rect" href="measuring_8c.html#a2756121f7d9be8c582e834ec0382b01b" title="Get the sampling frequency." alt="" coords="947,71,1099,98"/>
<area shape="rect" href="measuring_8c.html#ac2ccde1503cdb59ca3e7c55144864384" title="Initialize ADC, timer and DMA for sequential acquisition = scan mode." alt="" coords="943,157,1103,199"/>
<area shape="rect" href="measuring_8c.html#a56222b9e01ee9e860d41b23009b77f41" title="Start DMA, ADC and timer." alt="" coords="938,223,1107,250"/>
<area shape="rect" href="measuring_8c.html#a13be0ddd7d3fdf4b7c15e3e8a3615466" title="Resets the buffer." alt="" coords="955,274,1091,301"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8c_a4d9bb068545c5c8be52de1998f07180d_icgraph.png" border="0" usemap="#acalculation_8c_a4d9bb068545c5c8be52de1998f07180d_icgraph" alt=""/></div>
<map name="acalculation_8c_a4d9bb068545c5c8be52de1998f07180d_icgraph" id="acalculation_8c_a4d9bb068545c5c8be52de1998f07180d_icgraph">
<area shape="rect" title="Coil calibration." alt="" coords="409,5,592,32"/>
<area shape="rect" href="menu_8c.html#a46c8e897eee6536b70851f887ac3419b" title="Calibration menu for the current." alt="" coords="247,5,361,32"/>
<area shape="rect" href="menu_8c.html#aaf342133acebdd88903ec7a9cf1638c0" title="Master menu." alt="" coords="104,5,199,32"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main function." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a0acddde2c977bd7e54f5a1322ac89deb" name="a0acddde2c977bd7e54f5a1322ac89deb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0acddde2c977bd7e54f5a1322ac89deb">&#9670;&nbsp;</a></span>CALC_start_pad_calibration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CALC_start_pad_calibration </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="calculation_8h.html#a9996329daf423a1bbe5f8dcd25d7d37c">CALC_cali_pad_step_t</a>&#160;</td>
          <td class="paramname"><em>state_pad_cali</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pad calibration. </p>
<hr  />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">state_pad_cali</td><td>State of calibration</td></tr>
  </table>
  </dd>
</dl>
<p>To calibrate the pad (or distance) run this function multiple times while changing the state of parameter state_pad_cali. </p>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00346">346</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8c_a0acddde2c977bd7e54f5a1322ac89deb_cgraph.png" border="0" usemap="#acalculation_8c_a0acddde2c977bd7e54f5a1322ac89deb_cgraph" alt=""/></div>
<map name="acalculation_8c_a0acddde2c977bd7e54f5a1322ac89deb_cgraph" id="acalculation_8c_a0acddde2c977bd7e54f5a1322ac89deb_cgraph">
<area shape="rect" title="Pad calibration." alt="" coords="5,81,188,108"/>
<area shape="rect" href="calculation_8c.html#a3fc2a4c36334d1676c45ff95cec0e05f" title="Calculate signal strength in the frequency domain." alt="" coords="247,5,416,32"/>
<area shape="rect" href="measuring_8c.html#a64faa9ad38f33a8a9ad3a43864f02a1e" title="Get the number of channels." alt="" coords="247,56,416,83"/>
<area shape="rect" href="measuring_8c.html#a736f917870cb271ed9825adace9ff537" title="Get the number of samples." alt="" coords="236,107,427,133"/>
<area shape="rect" href="measuring_8c.html#aa6ff7ee1f6a6c6457f92f807f3539d6a" title="Start the measurement." alt="" coords="265,157,397,184"/>
<area shape="rect" href="measuring_8c.html#a2756121f7d9be8c582e834ec0382b01b" title="Get the sampling frequency." alt="" coords="483,5,635,32"/>
<area shape="rect" href="measuring_8c.html#ac2ccde1503cdb59ca3e7c55144864384" title="Initialize ADC, timer and DMA for sequential acquisition = scan mode." alt="" coords="479,91,639,133"/>
<area shape="rect" href="measuring_8c.html#a56222b9e01ee9e860d41b23009b77f41" title="Start DMA, ADC and timer." alt="" coords="475,157,644,184"/>
<area shape="rect" href="measuring_8c.html#a13be0ddd7d3fdf4b7c15e3e8a3615466" title="Resets the buffer." alt="" coords="491,208,627,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8c_a0acddde2c977bd7e54f5a1322ac89deb_icgraph.png" border="0" usemap="#acalculation_8c_a0acddde2c977bd7e54f5a1322ac89deb_icgraph" alt=""/></div>
<map name="acalculation_8c_a0acddde2c977bd7e54f5a1322ac89deb_icgraph" id="acalculation_8c_a0acddde2c977bd7e54f5a1322ac89deb_icgraph">
<area shape="rect" title="Pad calibration." alt="" coords="409,5,592,32"/>
<area shape="rect" href="menu_8c.html#a5eaf7d16b148ce298c844114f9e13fd9" title="Calibration menu for the distance." alt="" coords="247,5,361,32"/>
<area shape="rect" href="menu_8c.html#aaf342133acebdd88903ec7a9cf1638c0" title="Master menu." alt="" coords="104,5,199,32"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main function." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a1fad97eff19a02e0f4ac5808a9874acb" name="a1fad97eff19a02e0f4ac5808a9874acb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fad97eff19a02e0f4ac5808a9874acb">&#9670;&nbsp;</a></span>CALC_start_single_measurement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CALC_start_single_measurement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_l_c__meas__data__t.html">CALC_meas_data_t</a> *&#160;</td>
          <td class="paramname"><em>meas_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="calculation_8h.html#a24a06d9b1741cd17d5f7e5815e459ad8">CALC_phase_item_t</a>&#160;</td>
          <td class="paramname"><em>phase</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Single measurement. </p>
<hr  />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">*meas_data</td><td>Measurement data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="struct_c_a_l_c__meas__data__t.html">CALC_meas_data_t</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">phase</td><td>Select which phase mode for measurement</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Standard deviation in data will not be changed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00231">231</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8c_a1fad97eff19a02e0f4ac5808a9874acb_cgraph.png" border="0" usemap="#acalculation_8c_a1fad97eff19a02e0f4ac5808a9874acb_cgraph" alt=""/></div>
<map name="acalculation_8c_a1fad97eff19a02e0f4ac5808a9874acb_cgraph" id="acalculation_8c_a1fad97eff19a02e0f4ac5808a9874acb_cgraph">
<area shape="rect" title="Single measurement." alt="" coords="5,122,221,149"/>
<area shape="rect" href="calculation_8c.html#ae7341b08e00be0009bff3195258e1d8d" title="Calculate angle and distance to board center." alt="" coords="293,5,436,47"/>
<area shape="rect" href="calculation_8c.html#a3fc2a4c36334d1676c45ff95cec0e05f" title="Calculate signal strength in the frequency domain." alt="" coords="280,71,449,98"/>
<area shape="rect" href="measuring_8c.html#a64faa9ad38f33a8a9ad3a43864f02a1e" title="Get the number of channels." alt="" coords="280,122,449,149"/>
<area shape="rect" href="measuring_8c.html#a736f917870cb271ed9825adace9ff537" title="Get the number of samples." alt="" coords="269,173,460,199"/>
<area shape="rect" href="measuring_8c.html#aa6ff7ee1f6a6c6457f92f807f3539d6a" title="Start the measurement." alt="" coords="299,223,431,250"/>
<area shape="rect" href="calculation_8c.html#af37e2bc038df42795b858ef53e962a04" title="Calculate angle and distance to board center from one side." alt="" coords="508,5,687,47"/>
<area shape="rect" href="measuring_8c.html#a2756121f7d9be8c582e834ec0382b01b" title="Get the sampling frequency." alt="" coords="521,71,673,98"/>
<area shape="rect" href="measuring_8c.html#ac2ccde1503cdb59ca3e7c55144864384" title="Initialize ADC, timer and DMA for sequential acquisition = scan mode." alt="" coords="517,157,677,199"/>
<area shape="rect" href="measuring_8c.html#a56222b9e01ee9e860d41b23009b77f41" title="Start DMA, ADC and timer." alt="" coords="513,223,682,250"/>
<area shape="rect" href="measuring_8c.html#a13be0ddd7d3fdf4b7c15e3e8a3615466" title="Resets the buffer." alt="" coords="529,274,665,301"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="calculation_8c_a1fad97eff19a02e0f4ac5808a9874acb_icgraph.png" border="0" usemap="#acalculation_8c_a1fad97eff19a02e0f4ac5808a9874acb_icgraph" alt=""/></div>
<map name="acalculation_8c_a1fad97eff19a02e0f4ac5808a9874acb_icgraph" id="acalculation_8c_a1fad97eff19a02e0f4ac5808a9874acb_icgraph">
<area shape="rect" title="Single measurement." alt="" coords="835,77,1051,104"/>
<area shape="rect" href="calculation_8c.html#a0d39476ceaf7d83fa7bd3599b53b85de" title="Accurate measurement." alt="" coords="640,41,787,82"/>
<area shape="rect" href="menu_8c.html#aaf342133acebdd88903ec7a9cf1638c0" title="Master menu." alt="" coords="104,56,199,83"/>
<area shape="rect" href="calculation_8c.html#a4d9bb068545c5c8be52de1998f07180d" title="Coil calibration." alt="" coords="409,5,592,32"/>
<area shape="rect" href="menu_8c.html#a46c8e897eee6536b70851f887ac3419b" title="Calibration menu for the current." alt="" coords="247,5,361,32"/>
<area shape="rect" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main function." alt="" coords="5,56,56,83"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad925a8bfa2df9aa23b8869baf32f8b49" name="ad925a8bfa2df9aa23b8869baf32f8b49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad925a8bfa2df9aa23b8869baf32f8b49">&#9670;&nbsp;</a></span>a_magnetic_1</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float a_magnetic_1 = 581.5586e-6</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constant for Current approximation<a class="anchor" id="Constant"></a>. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000007">Todo:</a></b></dt><dd>safe in EEPROM in a future version </dd></dl>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00099">99</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>

</div>
</div>
<a id="addb4d66fdf0c5fa68354b76367ed6671" name="addb4d66fdf0c5fa68354b76367ed6671"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addb4d66fdf0c5fa68354b76367ed6671">&#9670;&nbsp;</a></span>a_magnetic_3</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float a_magnetic_3 = 181.5586e-6</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constant for Current approximation. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000008">Todo:</a></b></dt><dd>safe in EEPROM in a future version </dd></dl>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00102">102</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>

</div>
</div>
<a id="ab37cd723e618eac257340ccfd176794d" name="ab37cd723e618eac257340ccfd176794d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab37cd723e618eac257340ccfd176794d">&#9670;&nbsp;</a></span>a_static_l</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float a_static_l = -43.14</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Coefficient for distance approximation<a class="anchor" id="Coefficients"></a>. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>safe in EEPROM in a future version </dd></dl>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00086">86</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>

</div>
</div>
<a id="a5a10a05df4e4c32b5e5c91793815b297" name="a5a10a05df4e4c32b5e5c91793815b297"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a10a05df4e4c32b5e5c91793815b297">&#9670;&nbsp;</a></span>a_static_r</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float a_static_r = -73.23</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Coefficient for distance approximation. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>safe in EEPROM in a future version </dd></dl>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00093">93</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>

</div>
</div>
<a id="a8dd134c4aab7ce5515fb0c1c8c8a0043" name="a8dd134c4aab7ce5515fb0c1c8c8a0043"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dd134c4aab7ce5515fb0c1c8c8a0043">&#9670;&nbsp;</a></span>b_static_l</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float b_static_l = 35.98e3</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Coefficient for distance approximation. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>safe in EEPROM in a future version </dd></dl>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00089">89</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>

</div>
</div>
<a id="a26fb40462f1d6f28abf2e11d503d9a56" name="a26fb40462f1d6f28abf2e11d503d9a56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26fb40462f1d6f28abf2e11d503d9a56">&#9670;&nbsp;</a></span>b_static_r</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float b_static_r = 61.36e3</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Coefficient for distance approximation. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>safe in EEPROM in a future version </dd></dl>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00095">95</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>

</div>
</div>
<a id="a16641df2ec5a7e847ea60395e6ec79fe" name="a16641df2ec5a7e847ea60395e6ec79fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16641df2ec5a7e847ea60395e6ec79fe">&#9670;&nbsp;</a></span>c_static_l</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float c_static_l = -161.1e3</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Coefficient for distance approximation. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>safe in EEPROM in a future version </dd></dl>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00091">91</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>

</div>
</div>
<a id="aec46193d7bfd8d1939c7908334e59331" name="aec46193d7bfd8d1939c7908334e59331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec46193d7bfd8d1939c7908334e59331">&#9670;&nbsp;</a></span>c_static_r</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float c_static_r = -1.981e6</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Coefficient for distance approximation. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000006">Todo:</a></b></dt><dd>safe in EEPROM in a future version </dd></dl>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00097">97</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>

</div>
</div>
<a id="a25eddb045422b1d6dcd1d1ea76a50acd" name="a25eddb045422b1d6dcd1d1ea76a50acd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25eddb045422b1d6dcd1d1ea76a50acd">&#9670;&nbsp;</a></span>cal_current</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float cal_current[<a class="el" href="calculation_8h.html#aec1e459cdc1555cb7918da593ccf1c5aac933d25b3380298f2c95818561bab46f">CALC_CALI_C_END</a> - 3] = {5}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current through wire. </p>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00083">83</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>

</div>
</div>
<a id="ae69e98f772f728be8529fc0d3f70fe6e" name="ae69e98f772f728be8529fc0d3f70fe6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae69e98f772f728be8529fc0d3f70fe6e">&#9670;&nbsp;</a></span>cal_distance</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float cal_distance[<a class="el" href="calculation_8h.html#a9996329daf423a1bbe5f8dcd25d7d37ca978e074e66a01e597b78d77453d9f0f9">CALC_CALI_P_END</a> - 3] = {10, 100, 300}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Distance from wire to board center. </p>

<p class="definition">Definition at line <a class="el" href="calculation_8c_source.html#l00081">81</a> of file <a class="el" href="calculation_8c_source.html">calculation.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
